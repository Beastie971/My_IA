--- app.py
+++ app.py
@@
-# File d'attente (Cloudflare/proxy-friendly)
-demo = demo.queue(concurrency_count=2)
+# File d'attente (Cloudflare/proxy-friendly)
+# Gradio v4+ utilise default_concurrency_limit ; v3 utilise concurrency_count.
+# On tente d'abord l'argument v4, puis on retombe sur v3, puis sans argument.
+try:
+    demo = demo.queue(default_concurrency_limit=2)
+except TypeError:
+    try:
+        demo = demo.queue(concurrency_count=2)
+    except TypeError:
+        demo = demo.queue()
@@
 if __name__ == "__main__":
     demo.launch(server_name="0.0.0.0", server_port=7860, show_error=True)
